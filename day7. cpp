#include <iostream>
using namespace std;
#include <algorithm>

    int trap_rain_water(int height[],int n){
        if(n==0)
        return 0;
        
        int left_max[n];
        int right_max[n];
        left_max[0]=height [0];
        for(int I=1;I<n;I++){
            left_max[I]=max(left_max[I-1], height[I]);
        }
        right_max[n-1]=height[n-1];
        for(int I=n-2; I>=0;I--)
        right_max[I]=max(right_max[I+1],height[I]);
        
        int trapped_water=0;
        for(int I=0; I<n;I++){
            trapped_water=trapped_water+min(left_max[I],right_max[I])-height [I];
        }
        return trapped_water;
    }
int main(){
    int height[]={0,1,0,2,1,0,1,32,1,2,1};
    int n=sizeof(height)/(sizeof(height[0]));
    cout<<"Total trapped water after rain: "<<trap_rain_water(height, n) <<endl;

    return 0;
}